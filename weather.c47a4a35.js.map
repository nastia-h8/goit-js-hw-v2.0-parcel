{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAaC,SAASC,cAAc,cACpCC,EAAOF,SAASC,cAAc,YAEpCF,EAAWI,iBAAiB,UAE5B,SAAkBC,GACdA,EAAEC,iBAEF,MAAMC,MAAEA,EAAKC,KAAEA,GAASH,EAAEI,cAAcC,UAa5C,SAAoBC,EAAMH,GAMtB,OAAOI,MAAM,oFAA8CD,UAAaH,KAEnEK,MAAKC,IACF,IAAKA,EAAKC,GACN,MAAM,IAAIC,MAAMF,EAAKG,YAGzB,OAAOH,EAAKI,MAAM,G,EAxB1BC,CAAWZ,EAAMa,MAAOZ,EAAKY,OACxBP,MAAKQ,IACFlB,EAAKmB,UAAyBD,EAAKE,SAASC,YAgCzCC,KAAI,EAACC,KAAEA,EAAMC,KAAKC,UAAEA,EAASC,UAAEA,EAASC,YAAEA,EAAaC,WAAUC,KAACA,EAAIC,KAAEA,OAC/E,+BACgBA,WAAcD,0BACpBN,2BACAM,2CACgBH,0CACAD,qCACLE,yBAEnBI,KAAK,GAzCqD,IAE3DC,OAAOC,IAyBZC,EAAAvC,GAASwC,OAAOC,QAAQ,0BACxBpC,EAAKmB,UAAY,OAzBZkB,SAAQ,KACLxC,EAAWyC,OAAO,G","sources":["src/js/weather.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst searchForm = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\n\nsearchForm.addEventListener('submit', onSearch)\n\nfunction onSearch(e) {\n    e.preventDefault();\n\n    const { query, days } = e.currentTarget.elements;\n\n    getWeather(query.value, days.value)\n        .then(data => {\n            list.innerHTML = createMarkup(data.forecast.forecastday);\n        })\n        .catch((error)=> onFetchError(error))\n        .finally(() => {\n            searchForm.reset();\n        });\n\n}\n\nfunction getWeather(city, days) {\n    // http://api.weatherapi.com/v1/forecast.json?key=48d371ffaffe42768b2122056231907&q=Kiev&days=5\n\n    const BASE_URL = 'http://api.weatherapi.com/v1';\n    const API_KEY = '48d371ffaffe42768b2122056231907';\n\n    return fetch(`${BASE_URL}/forecast.json?key=${API_KEY}&q=${city}&days=${days}`)\n        // &lang=uk\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText);\n            }\n\n            return resp.json();\n        })\n}\n\nfunction onFetchError(error) {\n    Notiflix.Notify.failure('Please, try again');\n    list.innerHTML = '';\n}\n\nfunction createMarkup(arr) {\n    return arr.map(({ date, day: { maxtemp_c, mintemp_c, maxwind_kph, condition:{text, icon}} }) => \n        `<li>\n            <img src=\"${icon}\" alt=\"${text}\" />\n            <h2>${date}</h2>\n            <h3>${text}</h3>\n            <p>Min temp,&#8451: ${mintemp_c}</p>\n            <p>Max temp,&#8451: ${maxtemp_c}</p>\n            <p>Wind, km/h: ${maxwind_kph}</p>\n        </li>`\n        ).join('');\n}\n\n"],"names":["$7Y9D8","parcelRequire","$83ee39fa453a4c23$var$searchForm","document","querySelector","$83ee39fa453a4c23$var$list","addEventListener","e","preventDefault","query","days","currentTarget","elements","city","fetch","then","resp","ok","Error","statusText","json","$83ee39fa453a4c23$var$getWeather","value","data","innerHTML","forecast","forecastday","map","date","day","maxtemp_c","mintemp_c","maxwind_kph","condition","text","icon","join","catch","error","$parcel$interopDefault","Notify","failure","finally","reset"],"version":3,"file":"weather.c47a4a35.js.map"}