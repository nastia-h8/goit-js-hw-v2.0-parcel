{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/REP-api-service.js","<<jsx-config-pragma.js>>","src/js/REP-loadBtn.js","src/js/pagination.js","src/js/REP-markup.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","    const API_KEY = '27141b92df114a5392b42695bdffaae8';\n    const BASE_URL = 'https://newsapi.org/v2/';\n    const END_POINT = 'everything';\n\nexport default class NewsApiService{\n    constructor() {\n        this.query = '';\n        this.page = 1;\n        this.pageSize = 5;\n    }\n\n    fetchArticles() {\n        // console.log(this);\n        return fetch(`${BASE_URL}${END_POINT}?apiKey=${API_KEY}&q=${this.query}&pageSize=${this.pageSize}&page=${this.page}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.statusText);\n            }\n        return resp.json();\n        }).then(({articles}) => {\n            this.incrementPage();\n\n            return articles;\n        })\n    }\n\n    incrementPage() {\n        this.page += 1;\n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n\n    get searchQuery() {\n        return this.query;\n    }\n\n    set searchQuery(newQuery) {\n        this.query = newQuery;\n    }\n}",null,"export default class LoadMoreBtn{\n    constructor({selector, hidden=false}) {\n        this.btn = document.querySelector(selector);\n        this.label = this.btn.querySelector('.js-spinner-label');\n        this.spinner = this.btn.querySelector('.js-spinner');\n\n        hidden && this.hide();\n\n        // if (hidden) {\n        //     this.hide();\n        // }\n    }\n\n    enableSpinner() {\n        this.spinner.hidden = false;\n        this.label.textContent = 'Loading...';\n        this.btn.disabled = true;\n    }\n\n    disableSpinner() {\n        this.spinner.hidden = true;\n        this.label.textContent = 'Load more...';\n        this.btn.disabled = false;\n    }\n\n    show() {\n        this.btn.hidden = false;\n    }\n\n    hide() {\n        this.btn.hidden = true;\n    }\n}","// <!--newsapi load more class-->\nimport NewsApiService from './REP-api-service';\nimport { appendArticlesMarkup, clearArticlesMarkup } from './REP-markup';\nimport LoadMoreBtn from './REP-loadBtn';\n\n\nconst list = document.querySelector('.js-list-rep');\nconst searchForm = document.querySelector('.js-form');\nconst searchBtn = document.querySelector('.search-btn');\n\n\nconst newsApiService = new NewsApiService();\nconst loadMoreBtn = new LoadMoreBtn(\n    {\n        selector: '.js-load-more',\n        hidden: true\n    });\n\n\n\nsearchForm.addEventListener('submit', onSearch)\nloadMoreBtn.btn.addEventListener('click', fetchArticles)\n\n\nfunction onSearch(e) {\n    e.preventDefault();\n\n    searchBtn.disabled = true;\n\n    newsApiService.query = e.currentTarget.elements.query.value;\n\n    if (!newsApiService.query) {\n        return alert('type something');\n    }\n\n    loadMoreBtn.show();\n    newsApiService.resetPage();\n    clearArticlesMarkup(list);\n    fetchArticles();\n\n    \n}\n\n\nfunction fetchArticles() {\n    loadMoreBtn.enableSpinner();\n\n    newsApiService.fetchArticles()\n        .then(articles => {\n            loadMoreBtn.disableSpinner();\n            appendArticlesMarkup(articles, list);\n            searchBtn.disabled = false;\n        })\n        .catch(err => console.log(err));\n}\n\n\n\n// pixabay Infinity scroll\n// const BASE_URL = 'https://pixabay.com/api/';\n// const END_POINT = 'character';\n// const API_KEY = '38382383-be68f6f97c97ff697813dafa9';\n\n// const list = document.querySelector('.js-list');\n// const searchInput = document.querySelector('.js-form');\n// const target = document.querySelector('.js-guard');\n\n// let options = {\n//     // root: document.querySelector(\"#scrollArea\"),\n//     root: null, // слідкуємо за всім\n//     rootMargin: \"300px\",\n//     threshold: 1.0,\n// };\n\n// let observer = new IntersectionObserver(onLoad, options);\n// let page = 1;\n\n// let per_page = 10;\n\n\n// function onLoad(entries, observer) {\n//     entries.forEach(entry => {\n//         if (entry.isIntersecting) {\n//             page += 1;\n\n\n//             fetchImg(query,page, per_page)\n//                 .then(data => {\n\n//                 list.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n//                 const allPages = Math.floor(data.totalHits / per_page);\n                \n//                 observer.observe(target);\n\n//                 if (page === allPages) {\n//                     observer.unobserve(target);\n//                     console.log('noIntersecting');\n//                 }\n//             })\n//             .catch(err => console.log(err));    \n//             }\n//     })\n// }\n\n\n// searchInput.addEventListener('submit', onSearch)\n\n// function onSearch(e) {\n//     list.innerHTML = '';\n\n//     e.preventDefault();\n//     query = e.currentTarget.elements.query.value;\n\n\n//     fetchImg(query,page, per_page)\n//         .then(data => {\n            \n//             list.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n//             observer.observe(target);\n//     })\n//         .catch(err => console.log(err));    \n// }\n\n// function fetchImg(query, page, per_page) {\n//     return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&page=${page}&per_page=${per_page}`)\n//         .then(resp => {\n//             if (!resp.ok) {\n//                 throw new Error(resp.statusText);\n//             }\n//             return resp.json();\n//         });\n//     }\n\n\n// function createMarkup(arr) {\n//     return arr.map(({largeImageURL, tags}) =>\n//     `\n//         <li>\n//             <img src=\"${largeImageURL}\" alt=\"${tags}\" >\n//         </li>\n//     `).join('')\n// }\n\n\n\n// const BASE_URL = 'https://the-one-api.dev/v2/';\n// const END_POINT = 'character';\n// const API_KEY = 'mFUka-Ja9PG3DOYzlmuz';\n\n// getCharacter().then(data => console.log(data)).catch(err => console.log(err));\n\n\n// function getCharacter() {\n//     const params = new URLSearchParams({\n//         limit: 20,\n//         page: 1,\n//     });\n\n//     const options = {\n//         method: 'GET',\n//         headers: {\n//             Authorization: `Bearer ${API_KEY}`\n//         },\n//     };\n\n//     return fetch(`${BASE_URL}${END_POINT}?${params}`, options).then(resp => {\n//         if(!resp.ok){\n//             throw new Error(resp.statusText);\n//         }\n\n//         return resp.json();\n//     })\n// }\n\n//  <!--Infinity scroll-->\n\n// let counter = 0;\n// document.addEventListener('scroll', onScroll);\n\n// function onScroll() {\n//     counter += 1;\n//     console.log(counter);\n// }\n\n// const API_KEY = '2b1d5bddad210c0186837b235280482c';\n// const BASE_URL = 'https://api.themoviedb.org/3/';\n// const END_POINT = 'movie/upcoming';\n// let currentPage = 1;\n\n// const list = document.querySelector('.js-list');\n\n// const target = document.querySelector('.js-guard');\n\n// let options = {\n//     // root: document.querySelector(\"#scrollArea\"),\n//     root: null, // слідкуємо за всім\n//     rootMargin: \"300px\",\n//     threshold: 1.0,\n// };\n\n// let observer = new IntersectionObserver(onLoad, options);\n\n\n// function onLoad(entries, observer) {\n//     entries.forEach((entry) => {\n//         if (entry.isIntersecting) {\n//             console.log(entries);\n//             currentPage += 1;\n\n//             getTrendingMovies(currentPage)\n//                 .then(data => {\n//                     list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//                     if (data.page === data.total_pages) {\n//                         observer.unobserve(target);\n//                     }\n//                 })\n//             .catch(err => console.log(err));\n//         }\n//     })\n// }\n    \n\n//     getTrendingMovies()\n//         .then(data => {\n//             list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//             observer.observe(target);\n//     })\n//     .catch(err => console.log(err));\n\n\n// function getTrendingMovies(page=1) {\n//     return fetch(`${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}`)\n//         .then(resp => {\n//             if (!resp.ok) {\n//                 throw new Error(resp.status);\n//             }\n\n//             return resp.json();\n//         })\n// }\n\n\n// function createMarkup(arr) {\n//     return arr.map(({title, poster_path}) =>\n//     `\n//         <li>\n//             <img src=\"https://image.tmdb.org/t/p/w200/${poster_path}\" alt=\"${title}\">\n//             <h2>${title}</h2>\n//         </li>\n//     `).join('')\n// }\n\n\n\n\n\n// <!--load more btn-->\n// const API_KEY = '2b1d5bddad210c0186837b235280482c';\n// const BASE_URL = 'https://api.themoviedb.org/3/';\n// const END_POINT = 'movie/upcoming';\n\n// const list = document.querySelector('.js-list');\n// const loadMoreBtn = document.querySelector('.js-load-more');\n// let currentPage = 1;\n\n// loadMoreBtn.addEventListener('click', onLoad);\n\n// getTrendingMovies()\n//     .then(data => {\n//         list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n\n//         if (data.page !== data.total_pages) {\n//             loadMoreBtn.hidden = false;\n//         }\n//     })\n//     .catch(err => console.log(err));\n\n\n\n// function onLoad() {\n//     currentPage += 1;\n\n//     getTrendingMovies(currentPage)\n//         .then(data => {\n//             list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//             if (data.page === data.total_pages) {\n//                 loadMoreBtn.hidden = true;\n//             }\n//     })\n//     .catch(err => console.log(err));\n// }\n\n\n// function getTrendingMovies(page=1) {\n//     return fetch(`${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}`)\n//         .then(resp => {\n//             if (!resp.ok) {\n//                 throw new Error(resp.status);\n//             }\n\n//             return resp.json();\n//         })\n// }\n\n\n// function createMarkup(arr) {\n//     return arr.map(({title, poster_path}) =>\n//     `\n//         <li>\n//             <img src=\"https://image.tmdb.org/t/p/w200/${poster_path}\" alt=\"${title}\">\n//             <h2>${title}</h2>\n//         </li>\n//     `).join('')\n// }\n\n\n\n","export { appendArticlesMarkup, clearArticlesMarkup }\n\n\nfunction appendArticlesMarkup(arr, list) {\n    const markup = arr.map(({ url, urlToImage, title, author, description }) =>\n        `\n        <li>\n            <a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <article>\n                <img src=\"${urlToImage}\" alt=\"${title}\" width=\"480\" />\n                <h2>${title}</h2>\n                <p>Posted by:${author}</p>\n                <p>${description}</p>\n            </article>\n            </a>\n      </li>\n        `\n    ).join('');\n\n    list.insertAdjacentHTML('beforeend', markup);\n}\n\n\nfunction clearArticlesMarkup(list) {\n    list.innerHTML = '';\n}"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$bd44f804fdcfd43a$export$2e2bcd8739ae039","NewsApiService","this","query","page","pageSize","fetch","concat","then","resp","ok","Error","statusText","json","param","articles","_this","incrementPage","newQuery","$1b129b70881ea846$export$2e2bcd8739ae039","LoadMoreBtn","selector","_hidden","hidden","btn","document","querySelector","label","spinner","hide","textContent","disabled","$dfaf77c789ce7a24$var$list","$dfaf77c789ce7a24$var$searchForm","$dfaf77c789ce7a24$var$searchBtn","$dfaf77c789ce7a24$var$newsApiService","$dfaf77c789ce7a24$var$loadMoreBtn","$dfaf77c789ce7a24$var$fetchArticles","enableSpinner","fetchArticles","list","markup","disableSpinner","map","url","urlToImage","title","author","description","join","insertAdjacentHTML","catch","err","console","log","addEventListener","e","preventDefault","currentTarget","elements","alert","show","resetPage","innerHTML"],"version":3,"file":"pagination.d26cd13a.js.map"}